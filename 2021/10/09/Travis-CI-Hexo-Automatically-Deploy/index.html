<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Travis CI + Hexo Automatically Deploy | YoungForest&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Hexo is a powerful blog engine. It is a good choice for a personal blog. I have used it for 5 years. Recently, I setup my English site besides the original Chinese site. With 2 sites, it is more work">
<meta property="og:type" content="article">
<meta property="og:title" content="Travis CI + Hexo Automatically Deploy">
<meta property="og:url" content="https://youngforest.github.io/en/2021/10/09/Travis-CI-Hexo-Automatically-Deploy/index.html">
<meta property="og:site_name" content="YoungForest&#39;s blog">
<meta property="og:description" content="Hexo is a powerful blog engine. It is a good choice for a personal blog. I have used it for 5 years. Recently, I setup my English site besides the original Chinese site. With 2 sites, it is more work">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-09T10:03:49.000Z">
<meta property="article:modified_time" content="2024-05-17T10:22:22.361Z">
<meta property="article:author" content="YoungForest">
<meta property="article:tag" content="Blog">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="YoungForest&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/en/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '[object Object]', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/en/" id="logo">YoungForest&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/en/">Home</a>
        
          <a class="main-nav-link" href="/en/archives">Archives</a>
        
          <a class="main-nav-link" href="/en/%20%7C%7C%20fa%20fa-home">home</a>
        
          <a class="main-nav-link" href="/en/about/%20%7C%7C%20fa%20fa-user">about</a>
        
          <a class="main-nav-link" href="/en/tags/%20%7C%7C%20fa%20fa-tags">tags</a>
        
          <a class="main-nav-link" href="/en/categories/%20%7C%7C%20fa%20fa-th">categories</a>
        
          <a class="main-nav-link" href="/en/archives/%20%7C%7C%20fa%20fa-archive">archives</a>
        
          <a class="main-nav-link" href="https://youngforest.github.io/ || fa fa-language">中文</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://youngforest.github.io/en"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Travis-CI-Hexo-Automatically-Deploy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/en/2021/10/09/Travis-CI-Hexo-Automatically-Deploy/" class="article-date">
  <time datetime="2021-10-09T10:03:49.000Z" itemprop="datePublished">2021-10-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/en/categories/Tech-Sharing/">Tech Sharing</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Travis CI + Hexo Automatically Deploy
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://hexo.io/docs/">Hexo</a> is a powerful blog engine. It is a good choice for a personal blog. I have used it for 5 years. Recently, I setup <a href="https://youngforest.github.io/en">my English site</a> besides <a href="https://youngforest.github.io/">the original Chinese site</a>. With 2 sites, it is more work to write, git and deploy.<br>Fortunately, there is a better solution for this problem. We could use <a target="_blank" rel="noopener" href="https://travis-ci.com/">Travis CI</a> to automatically deploy the blog. The remain work is writing posts and git commit and push them. The CI would help us to deploy sites automatically.</p>
<span id="more"></span>

<h2 id="How-to-configure-that"><a href="#How-to-configure-that" class="headerlink" title="How to configure that?"></a>How to configure that?</h2><p><a target="_blank" rel="noopener" href="https://education.travis-ci.com/">Sign up for Travis CI using Github account</a>.</p>
<p>With <a target="_blank" rel="noopener" href="https://education.github.com/pack/offers">Github education package</a>, you could have the benefit to private builds for free while you’re a student. But it is only an optional choice, you can still use Travis CI without it.</p>
<p><a target="_blank" rel="noopener" href="https://app.travis-ci.com/account/repositories">Give Travis CI the permission to access your Github repositories</a>.</p>
<p>In <a target="_blank" rel="noopener" href="https://github.com/settings/tokens">Personal access tokens</a>, generate a token for Travis CI with <code>repo</code> scopes. Copy the token.</p>
<p>In <a target="_blank" rel="noopener" href="https://app.travis-ci.com/account/repositories">Travis CI repositories page</a>, select your <strong>Hexo</strong> repo and click on <strong>Settings</strong>. In <strong>Environment Variables</strong> section, <strong>Add</strong> a new variable with <strong>NAME</strong> is <code>GH_TOKEN</code>, <strong>VALUE</strong> is the token you copied in the last step.</p>
<p>Create a file named <code>.travis.yml</code> in your Hexo repo. Refer to following content and change the value as your situation. I added some comments for help.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">os: linux</span><br><span class="line">language: node_js </span><br><span class="line">node_js:</span><br><span class="line">  - 12  # using nodejs LTS v12</span><br><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">    - master # only monitor master branch</span><br><span class="line">cache:</span><br><span class="line">  directories:</span><br><span class="line">    - node_modules # cache node_modules to speed up build process</span><br><span class="line">before_script: ## According to your theme and custom configuration, update the script</span><br><span class="line">  - npm install -g hexo-cli # install Hexo in CI environment</span><br><span class="line">  - cd themes </span><br><span class="line">  - git clone https://github.com/next-theme/hexo-theme-next.git next # We do not commit the themes/next folder. Therefore, pull it every time.</span><br><span class="line">  - cd next</span><br><span class="line">  - npm install # install next dependencies</span><br><span class="line">  - cd ../.. # return the root folder</span><br><span class="line">  - npm install # install the dependencies</span><br><span class="line">script: </span><br><span class="line">  - hexo generate # generate static files</span><br><span class="line">deploy: # reference: https://docs.travis-ci.com/user/deployment/pages/</span><br><span class="line">  provider: pages</span><br><span class="line">  skip_cleanup: true # not clean after build</span><br><span class="line">  token: $GH_TOKEN # the variable you set in last step</span><br><span class="line">  keep_history: true</span><br><span class="line">  # fqdn: blog.ne0ng.page # custom domain，delete this field if using username.github.io</span><br><span class="line">  repo: YoungForest/youngforest.github.io # the repo you want to deploy. If this field is not set manually, the default value is current repo. Sometimes, the site repo is the same with the source files but in different branches.</span><br><span class="line">  on:</span><br><span class="line">    branch: master # sources files is in master branch</span><br><span class="line">  local_dir: public </span><br><span class="line">  target_branch: master # the branch of generated files. If using `username.github.io` repo, it has to be master. Otherwise, change it to your github pages branch.</span><br></pre></td></tr></table></figure>

<p>Once you push the <code>.travis.yml</code> file to your repo, you can see the build status in <a target="_blank" rel="noopener" href="https://app.travis-ci.com/">Travis CI</a>. Once it complete, check your site repo and access your blog to see the update.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://youngforest.github.io/en/2021/10/09/Travis-CI-Hexo-Automatically-Deploy/" data-id="clwakihzj000e0ekxanm8555j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/en/tags/Blog/" rel="tag">Blog</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/en/2021/10/24/LeetCode-weekly-contest-264/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          LeetCode weekly contest 264
        
      </div>
    </a>
  
  
    <a href="/en/2021/09/22/LeetCode-biweekly-contest-61/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">LeetCode biweekly contest 61</div>
    </a>
  
</nav>

  
</article>

<!---

-->


    
      <div class="duoshuo" id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="2021/10/09/Travis-CI-Hexo-Automatically-Deploy/" data-title="Travis CI + Hexo Automatically Deploy" data-url="https://youngforest.github.io/en/en/2021/10/09/Travis-CI-Hexo-Automatically-Deploy/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"youngforest"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
    <!-- 多说公共JS代码 end -->
</div>

    
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/en/categories/Investment/">Investment</a></li><li class="category-list-item"><a class="category-list-link" href="/en/categories/Ireland/">Ireland</a></li><li class="category-list-item"><a class="category-list-link" href="/en/categories/LeetCode/">LeetCode</a></li><li class="category-list-item"><a class="category-list-link" href="/en/categories/Programming/">Programming</a></li><li class="category-list-item"><a class="category-list-link" href="/en/categories/Tech-Sharing/">Tech Sharing</a></li><li class="category-list-item"><a class="category-list-link" href="/en/categories/interview/">interview</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Blog/" rel="tag">Blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Bonds/" rel="tag">Bonds</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Competitive-Programming/" rel="tag">Competitive Programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Dublin/" rel="tag">Dublin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/France-visa/" rel="tag">France visa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Hennge/" rel="tag">Hennge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/IB/" rel="tag">IB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Ireland/" rel="tag">Ireland</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Life/" rel="tag">Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Schengen/" rel="tag">Schengen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Side-Project/" rel="tag">Side Project</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/hash/" rel="tag">hash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/en/tags/unordered-map/" rel="tag">unordered_map</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/en/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/en/tags/Bonds/" style="font-size: 10px;">Bonds</a> <a href="/en/tags/C/" style="font-size: 10px;">C++</a> <a href="/en/tags/Competitive-Programming/" style="font-size: 20px;">Competitive Programming</a> <a href="/en/tags/Dublin/" style="font-size: 10px;">Dublin</a> <a href="/en/tags/France-visa/" style="font-size: 10px;">France visa</a> <a href="/en/tags/Hennge/" style="font-size: 10px;">Hennge</a> <a href="/en/tags/IB/" style="font-size: 10px;">IB</a> <a href="/en/tags/Ireland/" style="font-size: 10px;">Ireland</a> <a href="/en/tags/Life/" style="font-size: 10px;">Life</a> <a href="/en/tags/Schengen/" style="font-size: 10px;">Schengen</a> <a href="/en/tags/Side-Project/" style="font-size: 10px;">Side Project</a> <a href="/en/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/en/tags/hash/" style="font-size: 10px;">hash</a> <a href="/en/tags/unordered-map/" style="font-size: 10px;">unordered_map</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/en/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/en/2024/01/12/Actions-After-Address-Change-in-Ireland/">Actions After Address Change in Ireland</a>
          </li>
        
          <li>
            <a href="/en/2023/09/20/Ireland-France-visa-monitor/">Ireland France visa monitor</a>
          </li>
        
          <li>
            <a href="/en/2023/04/01/IB-Bonds-Tutorial/">IB Bonds Tutorial</a>
          </li>
        
          <li>
            <a href="/en/2022/12/17/Windows-Dev-Improvement/">Windows Development Environment improvement tips From a Microsoft Employee</a>
          </li>
        
          <li>
            <a href="/en/2022/03/19/Hennge-challenge-3/">Hennge challenge 3</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 YoungForest<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/en/" class="mobile-nav-link">Home</a>
  
    <a href="/en/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/en/%20%7C%7C%20fa%20fa-home" class="mobile-nav-link">home</a>
  
    <a href="/en/about/%20%7C%7C%20fa%20fa-user" class="mobile-nav-link">about</a>
  
    <a href="/en/tags/%20%7C%7C%20fa%20fa-tags" class="mobile-nav-link">tags</a>
  
    <a href="/en/categories/%20%7C%7C%20fa%20fa-th" class="mobile-nav-link">categories</a>
  
    <a href="/en/archives/%20%7C%7C%20fa%20fa-archive" class="mobile-nav-link">archives</a>
  
    <a href="https://youngforest.github.io/ || fa fa-language" class="mobile-nav-link">中文</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/en/fancybox/jquery.fancybox.css">

  
<script src="/en/fancybox/jquery.fancybox.pack.js"></script>




<script src="/en/js/script.js"></script>


  </div>
</body>
</html>